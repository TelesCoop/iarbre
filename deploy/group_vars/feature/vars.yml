unique_number: "{{ range(100, 1000) | random }}"

backend_application_port: "8{{ unique_number }}" # must be unique for each project on the same server
frontend_application_port: "8{{ unique_number }}" # must be unique for each project on the same server
environment_suffix: "-feature-{{ branch }}"
project_slug: "{{ base_project_slug }}{{ environment_suffix }}"

main_hostname: "feature-{{ branch }}-carte.iarbre.fr"
public_hostnames:
  - "{{ main_hostname }}"
# hostnames mentioned here are redirected to the main hostname
redirect_hostnames: []
all_hostnames: "{{ public_hostnames + redirect_hostnames }}"
# the certificate that you see in /etc/nginx/sites-enabled/{{ project_slug }},
# in the line like /etc/letsencrypt/live/[certificate_hostname]/fullchain.pem
certificate_hostname: "iarbre.fr-0001"
# only change this variable after having:
# - run the playbook at least once with the value `false`
# - run `certbot --nginx` manually on the server
https_enabled: true
project_dir: "{{ project_base_dir }}{{ environment_suffix }}"
backend_static_path: "{{ project_dir }}/backend_static"

frontend_branch: "{{ branch }}"
backend_branch: "{{ branch }}"

environment_name: "feature-{{ branch }}"

database_user: "{{ base_project_slug }}_preprod"
database_name: "{{ base_project_slug }}_preprod"
