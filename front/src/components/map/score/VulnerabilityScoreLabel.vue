<script lang="ts" setup>
import { VulnerabilityColor } from "@/utils/vulnerability"
import { useMapStore } from "@/stores/map"

defineProps<{
  color: VulnerabilityColor
  index: number
  name: string
}>()
const mapStore = useMapStore()
</script>

<template>
  <score-label
    :key="index"
    :clickable="true"
    :data-vulnerability="index"
    :is-selected="mapStore.isFiltered(index)"
    :label="`${index}`"
    :score="index"
    :title="`Zone ${index} - ${name} - Cliquez pour ${mapStore.isFiltered(index) ? 'dÃ©sactiver' : 'activer'} le filtre`"
    class="flex items-center justify-center"
    :background-color="color"
    @click="() => mapStore.toggleAndApplyFilter(index)"
  />
</template>
