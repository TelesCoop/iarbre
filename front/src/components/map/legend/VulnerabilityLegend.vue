<script lang="ts" setup>
import { VulnerabilityLegend } from "@/utils/vulnerability"

const legendEntries = Object.entries(VulnerabilityLegend)
const totalItems = legendEntries.length
</script>

<template>
  <div
    class="font-accent text-xs leading-3"
    data-cy="vulnerability-zones-legend"
    style="display: flex; justify-content: center; align-items: center; gap: 6px"
  >
    <div class="flex items-center flex-col lg:flex-row justify-center gap-2 lg:gap-[7px] px-2">
      <div class="flex justify-between lg:hidden gap-2">
        <span class="font-bold">-</span>
        <span>Fort</span>
        <span class="font-bold">+</span>
      </div>
      <span class="hidden lg:block text-xs leading-3">Faible</span>
      <div class="flex items-center">
        <template v-for="(color, name, index) in VulnerabilityLegend" :key="index + 1">
          <vulnerability-score-label
            :index="index + 1"
            :name="name"
            :color="color"
            :total="totalItems"
          />
        </template>
      </div>
      <span class="hidden lg:block text-xs leading-3">Fort</span>
    </div>
  </div>
</template>
