<script lang="ts" setup>
import type { MapScorePopupData } from "@/types/map"

defineProps<{
  popupData: MapScorePopupData
}>()
</script>

<template>
  <div class="flex flex-col gap-2 p-2" data-cy="mix-plantability-vulnerability-score-popup">
    <div class="text-sm font-semibold text-primary-900 font-accent mb-2">
      Mix Plantabilité & Vulnérabilité
    </div>

    <!-- Plantability Score -->
    <div class="bg-gray-50 rounded p-2">
      <div class="text-xs font-medium text-gray-700 mb-1">Plantabilité</div>
      <div class="flex items-center justify-between">
        <span class="text-xs text-gray-600">Score:</span>
        <span class="font-bold text-sm">
          {{ popupData.properties?.plantability_score || "N/A" }}/10
        </span>
      </div>
    </div>

    <!-- Vulnerability Score -->
    <div class="bg-gray-50 rounded p-2">
      <div class="text-xs font-medium text-gray-700 mb-1">Vulnérabilité</div>
      <div class="grid grid-cols-2 gap-2 text-xs">
        <div>
          <div class="font-medium text-gray-600 mb-1">Jour</div>
          <div class="text-center">
            <span class="font-bold">
              {{ popupData.properties?.vulnerability_day_score || "N/A" }}/9
            </span>
          </div>
        </div>
        <div>
          <div class="font-medium text-gray-600 mb-1">Nuit</div>
          <div class="text-center">
            <span class="font-bold">
              {{ popupData.properties?.vulnerability_night_score || "N/A" }}/9
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Show/Hide Score Button -->
    <show-hide-score-button />
  </div>
</template>
